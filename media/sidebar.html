<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'none';
                 img-src {{cspSource}} https:;
                 style-src {{cspSource}} 'unsafe-inline';
                 script-src 'nonce-{{nonce}}';">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="{{styleUri}}" rel="stylesheet" />
  <title>QEmit</title>
</head>
<body>
  <button id="showAddCredentials" type="button">Add Credentials</button>

  <!-- Add credential form -->
  <form id="addCredentialForm" class="card block hidden" autocomplete="off">
    <h4>Add New Credentials</h4>
    <div class="form-group">
      <label for="newUsername">Username</label>
      <input id="newUsername" type="text" placeholder="Username" autocomplete="username" />
    </div>
    <div class="form-group">
      <label for="newPassword">Password</label>
      <input id="newPassword" type="password" placeholder="Password" autocomplete="current-password" />
    </div>
    <div class="form-group">
      <label for="newBrokerHost">Broker Host</label>
      <input id="newBrokerHost" type="text" placeholder="amqp://localhost:5672" inputmode="url" spellcheck="false"/>
    </div>
    <button id="saveCredential" type="submit">Save Credentials</button>
  </form>

  <button id="deleteCredential" class="danger" type="button">Delete Credentials</button>

  <div id="addDivider" class="section-divider"></div>

  <h3>Publish File via AMQP</h3>

  <!-- Broker host: select if creds exist, else text input -->
  <div class="form-group" id="brokerHostContainer">
    <label for="brokerHostSelect">Broker Host</label>
    <select id="brokerHostSelect" class="hidden">
      <option value="">-- Select Broker --</option>
    </select>
    <input id="brokerHostText" type="text" placeholder="amqp://localhost:5672" inputmode="url" spellcheck="false"/>
  </div>

  <!-- Publish form -->
  <form id="publishForm" class="block" autocomplete="off">
    <div class="form-group">
      <label for="username">Username</label>
      <input id="username" type="text" placeholder="Username" autocomplete="username" />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input id="password" type="password" placeholder="Password" autocomplete="current-password"/>
    </div>

    <div class="form-group block">
      <label for="topic">Topic</label>
      <input id="topic" type="text" placeholder="Topic (e.g. my.queue)" value="queue://test" />
    </div>

    <button id="publish" type="submit" disabled>Publish</button>
  </form>

  <script nonce="{{nonce}}" src="{{scriptUri}}"></script>
</body>
</html>
